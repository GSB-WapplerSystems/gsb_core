<f:if condition="{menuMainDesktop}">
    <ul class="list-unstyled d-flex mb-0">
        <f:for as="mainItem" each="{menuMainDesktop}">
            <li>
                <f:if condition="{mainItem.children}">
                    <f:then>
                        <f:if condition="{mainItem.children}">
                            <a aria-controls="menu-{mainItem.data.uid}" aria-expanded="false" class="first-child{f:if(condition:mainItem.active, then:' act')}{f:if(condition:mainItem.current, then:' current')}{f:if(condition:mainItem.hasSubpages, then:' hassub')}" data-bs-auto-close="outside" data-bs-boundary="scrollParent" data-bs-display="static" data-bs-reference="parent" data-bs-toggle="dropdown" href="#" title="{f:translate(key: 'header.openMenuTitleOpen', extensionName: 'gsb_template')}" type="button">
                                <span class="txt">{mainItem.title} <span class="visually-hidden">Ã¶ffnen</span></span>
                            </a>
                            <div class="dropdown-menu main-menu-desktop" id="menu-{mainItem.data.uid}">
                                <ul class="container list-unstyled">
                                    <f:for as="mainChild" each="{mainItem.children}">
                                        <f:render arguments="{mainChild: mainChild}" section="submenu"/>
                                    </f:for>
                                </ul>
                            </div>
                        </f:if>
                    </f:then>
                    <f:else>
                        <f:if condition="{mainItem.current}">
                            <f:then>
                                <f:link.page aria="{current: 'page'}" class="first-child{f:if(condition:mainItem.active, then:' act')}{f:if(condition:mainItem.current, then:' current')}{f:if(condition:mainItem.hasSubpages, then:' hassub')}" pageUid="{mainItem.data.uid}">
                                    {mainItem.title}
                                </f:link.page>
                            </f:then>
                            <f:else>
                                <f:link.page class="first-child{f:if(condition:mainItem.active, then:' act')}{f:if(condition:mainItem.current, then:' current')}{f:if(condition:mainItem.hasSubpages, then:' hassub')}" pageUid="{mainItem.data.uid}">
                                    {mainItem.title}
                                </f:link.page>
                            </f:else>
                        </f:if>
                    </f:else>
                </f:if>
            </li>
        </f:for>
    </ul>

</f:if>

<f:section name="submenu">
    <f:if condition="{mainChild.children}">
        <f:then>
            <li>
                <a aria-controls="menu-{mainChild.data.uid}" aria-expanded="false" class="sub collapsed dropdown-item{f:if(condition:mainChild.active, then:' act')}{f:if(condition:mainChild.current, then:' current')}{f:if(condition:mainChild.hasSubpages, then:' hassub')}" data-bs-target="#menu-{mainChild.data.uid}" data-bs-toggle="collapse" href="#" type="button">{mainChild.title}</a>
                <ul class="list-unstyled collapse" id="menu-{mainChild.data.uid}">
                    <f:for as="mainChild" each="{mainChild.children}">
                        <f:render arguments="{mainChild: mainChild}" section="submenu"/>
                    </f:for>
                </ul>
            </li>
        </f:then>
        <f:else>
            <li>
                <f:if condition="{mainChild.current}">
                    <f:then>
                        <f:link.page aria="{current: 'page'}" class="sub dropdown-item{f:if(condition:mainChild.active, then:' act')}{f:if(condition:mainChild.current, then:' current')}{f:if(condition:mainChild.hasSubpages, then:' hassub')}" pageUid="{mainChild.data.uid}">
                            {mainChild.title}
                        </f:link.page>
                    </f:then>
                    <f:else>
                        <f:link.page class="sub dropdown-item{f:if(condition:mainChild.active, then:' act')}{f:if(condition:mainChild.current, then:' current')}{f:if(condition:mainChild.hasSubpages, then:' hassub')}" pageUid="{mainChild.data.uid}">
                            {mainChild.title}
                        </f:link.page>
                    </f:else>
                </f:if>
            </li>
        </f:else>
    </f:if>
</f:section>
