<html xmlns="http://www.w3.org/1999/xhtml" lang="en"
      xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
      xmlns:s="http://typo3.org/ns/ApacheSolrForTypo3/Solr/ViewHelpers"
      xmlns:c="http://typo3.org/ns/ITZBund/GsbCore/ViewHelpers"
      data-namespace-typo3-fluid="true"
>

<f:section name="FacetsActive">
    <f:if condition="{resultSet.facets.used -> f:count()}">
        <h3 class="mb-3"><f:translate key="faceting_resultsNarrowedBy" extensionName="solr">Narrowed by</f:translate>:</h3>
        <ul class="list-inline pb-3">
            <f:for each="{resultSet.facets.used}" as="facet">
                <f:for each="{facet.allFacetItems.selected}" as="item">
                    <a href="{s:uri.facet.removeFacetItem(facet: facet, facetItem: item)}" class="btn btn-close-facet d-inline-block">
                        {facet.label}: <f:render section="label" arguments="{_all}" /><span class="visually-hidden"> {f:translate(key: 'article.detail.published', extensionName: 'gsb_core')}</span>
                    </a>
                </f:for>
            </f:for>
        </ul>
        <a href="{s:uri.facet.removeAllFacets()}" class="btn btn-tertiary m-0 mt-3 ms-auto">
            <f:translate key="faceting_removeAllFilters" extensionName="solr">Remove all filters</f:translate>
        </a>
    </f:if>
</f:section>

<f:section name="label">
    <f:if condition="{facet.configuration.subtype} == 'sys_category'">
        <f:then><c:category as="label">{item.label}</c:category>{label.title}</f:then>
        <f:else>{item.label}</f:else>
    </f:if>
</f:section>

</html>
