<html xmlns="http://www.w3.org/1999/xhtml" lang="en"
	xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
	xmlns:s="http://typo3.org/ns/ApacheSolrForTypo3/Solr/ViewHelpers"
    xmlns:gsbcore="http://typo3.org/ns/ITZBund/GsbCore/ViewHelpers"
	data-namespace-typo3-fluid="true"
>

<f:comment>
    <!--
 * This file is part of the package itzbund/gsb-core of the GSB 11 Project by ITZBund
 * (c) Matthias Peltzer <matthias.peltzer@digitaspixelpark.com> 2023
 * (c) Kai Ole Hartwig <o.hartwig@moselwal.de> 2023
 * Licensed under the GPL 2.0 License.
 -->
</f:comment>

<f:section name="Document">
	<li class="search-result teaser text-left results-entry{f:if(condition:document.isElevated, then: ' results-elevated')}"
			data-document-score="{document.score}"
			data-document-id="{document.id}"
			data-document-url="{document.url}"
		>
        <div class="row">
            <div class="col-12{f:if(condition: '{document.fields.media_intS}', then: ' col-lg-8')}">
                <div class="d-flex flex-column">
                    <div class="order-1">
                        <h2 class="results-topic"><a class="stretched-link teaser-link" href="{s:uri.result.addSearchWordList(url:document.url, searchWords:resultSet.usedQuery.query)}"><span>{document.title}</span></a></h2>
                    </div>
                    <div class="order-0">
                        <f:if condition="{document.fields.lastUpdated_intS} != 0">
                            <f:then>
                                <span class="date-text"><span class="visually-hidden">{f:translate(key: 'article.detail.published', extensionName: 'gsb_core')} </span> <f:format.date format="{f:translate(key: 'date.daymonthyear', extensionName: 'gsb_core')}">{document.fields.lastUpdated_dateS}</f:format.date></span>
                            </f:then>
                            <f:else>
                                <f:if condition="{document.fields.changed} > {document.fields.created}">
                                    <f:then>
                                        <span class="date-text"><span class="visually-hidden">{f:translate(key: 'article.detail.published', extensionName: 'gsb_core')} </span> <f:format.date format="{f:translate(key: 'date.daymonthyear', extensionName: 'gsb_core')}">{document.fields.changed}</f:format.date></span>
                                    </f:then>
                                    <f:else>
                                        <span class="date-text"><span class="visually-hidden">{f:translate(key: 'article.detail.published', extensionName: 'gsb_core')} </span> <f:format.date format="{f:translate(key: 'date.daymonthyear', extensionName: 'gsb_core')}">{document.fields.created}</f:format.date></span>
                                    </f:else>
                                </f:if>
                            </f:else>
                        </f:if>
                        <f:if condition="{document.fields.mainCategory_intS}">
                            <gsbcore:Category category="{document.fields.mainCategory_intS}" as="mainCategory" />
                            <span class="dot" aria-hidden="true">â€¢</span> {mainCategory.title}
                        </f:if>
                        <f:if condition="{document.fields.categories_intM}">
                            <ul class="list-group list-group-horizontal list-unstyled justify-content-start flex-wrap">
                                <f:for each="{document.fields.categories_intM}" as="category">
                                    <gsbcore:Category category="{category}" as="sideCategory" />
                                    <li class="list-group-item border-0 ps-0 kicker">
                                        <span>{sideCategory.title}</span>
                                    </li>
                                </f:for>
                            </ul>
                        </f:if>
                    </div>
                </div>
                <f:if condition="{document.isElevated}">
                    <div class="results-elevated-label"><f:translate key="sponsored" extensionName="solr"/></div>
                </f:if>
                <p class="result-content">
                    <f:format.crop maxCharacters="{settings.result.crop.maxCharacters}" respectWordBoundaries="true" respectHtml="true">{s:document.highlightResult(resultSet:resultSet, document:document, fieldName:'content')}</f:format.crop>
                </p>
                <f:if condition="{document.type} == 'tx_solr_file'">
                    <div>
                        <f:translate key="file_mimetype" extensionName="solr"/>: {document.fileMimeType}<br />
                        <f:translate key="file_referenced" extensionName="solr"/>:
                        <ul class="references">
                            <f:if condition="{document.fileReferenceUrl}">
                                <li><f:link.typolink title="{document.fileReferenceTitle}" parameter="{document.fileReferenceUrl}">{document.fileReferenceTitle}</f:link.typolink></li>
                            </f:if>
                            <f:if condition="{document.variants}">
                                <f:for each="{document.variants}" as="variant">
                                    <li><f:link.typolink title="{variant.fileReferenceTitle}" parameter="{variant.fileReferenceUrl}">{variant.fileReferenceTitle}</f:link.typolink></li>
                                </f:for>
                            </f:if>
                        </ul>
                    </div>
                </f:if>
                <f:if condition="{documentScoreAnalyze}">
                    <div class="query-debug alert alert-info" role="alert"><f:format.raw>{documentScoreAnalyze}</f:format.raw></div>
                </f:if>
            </div>
            <f:if condition="{document.fields.media_intS}">
                <div class="col-12 col-lg-4">
                    <f:image class="figure-img img-fluid" cropVariant="default" loading="lazy" width="300c" src="{document.fields.media_intS}" treatIdAsReference="1" />
                </div>
            </f:if>
        </div>
	</li>
</f:section>

</html>
