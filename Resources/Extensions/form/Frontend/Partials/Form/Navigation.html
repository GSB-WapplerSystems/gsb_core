<html data-namespace-typo3-fluid="true" xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers">

<f:comment>
    <!--
 * This file is part of the package itzbund/gsb-core of the GSB 11 Project by ITZBund
 * (c) Matthias Peltzer <matthias.peltzer@digitaspixelpark.com> 2023
 * (c) Kai Ole Hartwig <o.hartwig@moselwal.de> 2023
 * Licensed under the GPL 2.0 License.
 -->
</f:comment>

    <f:if condition="{form.previousPage}">
        <f:form.hidden property="__currentPage" respectSubmittedDataValue="false" value="{form.previousPage.index}"/>
        <f:asset.script identifier="form-navigation" useNonce="true">
            document.addEventListener('DOMContentLoaded', function() {
                var buttons = document.querySelectorAll('.form button.previous');

                buttons.forEach(function(button) {
                    button.addEventListener('click', function(event) {
                        var form = event.target.closest('form');
                        if (form) {
                            form.submit();
                        }
                    });
                });
            });
        </f:asset.script>
        <f:form.button class="{form.renderingOptions.formNavigation.btnPreviousClassAttribute} previous btn btn-primary"
                       formnovalidate="formnovalidate"
                       type="button">
            {formvh:translateElementProperty(element: form.currentPage, renderingOptionProperty: 'previousButtonLabel')}
        </f:form.button>
    </f:if>
    <f:if condition="{form.nextPage}">
        <f:then>
            <f:form.button
                    class="{form.renderingOptions.formNavigation.btnNextClassAttribute} btn btn-primary"
                    property="__currentPage" value="{form.nextPage.index}">
                {formvh:translateElementProperty(element: form.currentPage, renderingOptionProperty: 'nextButtonLabel')}
            </f:form.button>
        </f:then>
        <f:else>
            <f:form.button
                    class="{form.renderingOptions.formNavigation.btnSubmitClassAttribute} btn btn-primary"
                    property="__currentPage" value="{form.pages -> f:count()}">
                {formvh:translateElementProperty(element: form, renderingOptionProperty: 'submitButtonLabel')}
            </f:form.button>
        </f:else>
    </f:if>
</html>
